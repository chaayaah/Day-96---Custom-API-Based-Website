{% from "bootstrap5/form.html" import render_form %}
{% include "header.html" %}

<link href="https://www.w3schools.com/w3css/4/w3.css" rel="stylesheet">

<div class="px-4 pt-5 my-5 text-center border-bottom">
    <h1 class="display-4 fw-bold text-body-emphasis">Current Weather Data</h1>
    <div class="col-lg-6 mx-auto">
      <p class="lead mb-4">
       <p>Access current weather data for any location</p>
        <p>We collect and process weather data from different sources such as global and local weather models, satellites, radars and a vast network of weather stations
        JSON, XML, and HTML formats</p>
        <p>Included in both free and paid subscriptions</p>
      </p>
      <div class="d-grid gap-2 d-sm-flex justify-content-sm-center mb-5">

        <button onclick="document.getElementById('id01').style.display='block'" type="button" class="btn btn-primary btn-lg px-4 me-sm-3" >Try API</button>
        <button type="button" class="btn btn-outline-secondary btn-lg px-4" onclick="window.open('https://openweathermap.org/api')" >Visit</button>
      </div>
    </div>
    <div class="overflow-hidden" style="max-height: 30vh;">
      <div class="container px-5">
        <img src="static/assets/img/weather_api.png" class="img-fluid border rounded-3 shadow-lg mb-4" alt="Example image" width="700" height="500" loading="lazy">
      </div>
    </div>

        <div class="table-responsive small">
        <table class="table table-striped table-sm w-50">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Latitude</th>
              <th scope="col">Longitude</th>
              <th scope="col">City</th>
              <th scope="col">Country</th>
              <th scope="col">Population</th>
              <th scope="col">Timezone</th>

              <th scope="col">Temp</th>
              <th scope="col">Feels Like</th>
              <th scope="col">Temp Min</th>

              <th scope="col">Temp Max</th>
              <th scope="col">Pressure</th>
              <th scope="col">Sea Level</th>

              <th scope="col">Ground Level</th>
              <th scope="col">Humidity</th>
              <th scope="col">Temp KF</th>

                <th scope="col">Weather Name</th>
              <th scope="col">Description</th>
              <th scope="col">Icon</th>

                <th scope="col">Clouds</th>
              <th scope="col">Windspeed</th>
              <th scope="col">Wind Deg.</th>
                <th scope="col">Wind Gust</th>
            </tr>
          </thead>
          <tbody>
            <tr>
                {% if last_post: %}
                <td>{{ last_post.id }}</td>
                <td>{{ last_post.coordinate_lat }}</td>
                <td>{{ last_post.coordinate_lon }}</td>
                <td>{{ last_post.city_name }}</td>
                <td>{{ last_post.country }}</td>
                <td>{{ last_post.population }}</td>
                <td>{{ last_post.timezone }}</td>
                <td>{{ last_post.temp }}</td>
                <td>{{ last_post.feels_like }}</td>
                <td>{{ last_post.temp_min }}</td>
                <td>{{ last_post.temp_max }}</td>
                <td>{{ last_post.pressure }}</td>
                <td>{{ last_post.sea_level }}</td>
                <td>{{ last_post.grnd_level }}</td>
                <td>{{ last_post.humidty }}</td>
                <td>{{ last_post.temp_kf }}</td>
                <td>{{ last_post.weather_name }}</td>
                <td>{{ last_post.description }}</td>
                <td>{{ last_post.icon }}</td>
                <td>{{ last_post.clouds }}</td>
                <td>{{ last_post.wind_speed }}</td>
                <td>{{ last_post.wind_deg }}</td>
                <td>{{ last_post.wind_gust }}</td>
                {% endif %}
            </tr>
          </tbody>
        </table>
      </div>

    <br>

 <div class="w3-container">
    <div id="id01" class="w3-modal">
    <div class="w3-modal-content w3-animate-top w3-card-4">
      <header class="w3-container w3-black">
        <span onclick="document.getElementById('id01').style.display='none'"
        class="w3-button w3-display-topright">&times;</span>
        <h2>Coordinates</h2>
      </header>
      <div class="w3-container">
          <br>
            {{render_form(form, novalidate=True, button_map={"submit": "primary"}) }}
      </div>

        <div class="w3-container">
          <br>
      </div>

        <br>
      <header class="w3-container w3-black">
        <h5>© 2017–2023</h5>
      </header>
    </div>
    </div>
    </div>
</div>


<div class="w3-container">

</div>



<script>
function onClick(element) {
  document.getElementById("img01").src = element.src;
  document.getElementById("modal01").style.display = "block";
}
</script>

{% include "footer.html" %}